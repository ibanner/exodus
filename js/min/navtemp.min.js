/*! Grunted by Itay Banner for kolehad.org */
!function(a){function b(){for(var a=this;-1===a.className.indexOf("nav-menu");)"li"===a.tagName.toLowerCase()&&(-1!==a.className.indexOf("focus")?a.className=a.className.replace(" focus",""):a.className+=" focus"),a=a.parentElement}function c(b){b.find(".menu-item-has-children > a , .page_item_has_children > a").after('<button class="nav-dropdown-toggle" aria-expanded="false">'+screenReaderText.expand+"</button>"),b.find(".nav-dropdown-toggle").click(function(b){var c=a(this);b.preventDefault(),c.toggleClass("toggle-on"),c.next(".children, .sub-menu").toggleClass("toggled-on"),c.attr("aria-expanded","false"===c.attr("aria-expanded")?"true":"false"),c.html(c.html()===screenReaderText.expand?screenReaderText.collapse:screenReaderText.expand)})}var d,e,f,g,h,i,j;if(d=document.getElementById("header"),d&&(e=d.getElementsByTagName("button")[0],"undefined"!=typeof e)){if(f=d.getElementsByTagName("ul")[0],"undefined"==typeof f)return void(e.style.display="none");for(f.setAttribute("aria-expanded","false"),-1===f.className.indexOf("nav-menu")&&(f.className+=" nav-menu"),e.onclick=function(){-1!==d.className.indexOf("toggled")?(d.className=d.className.replace(" toggled",""),e.setAttribute("aria-expanded","false"),f.setAttribute("aria-expanded","false")):(d.className+=" toggled",e.setAttribute("aria-expanded","true"),f.setAttribute("aria-expanded","true"))},g=f.getElementsByTagName("a"),h=f.getElementsByTagName("ul"),i=0,j=h.length;i<j;i++)h[i].parentNode.setAttribute("aria-haspopup","true");for(i=0,j=g.length;i<j;i++)g[i].addEventListener("focus",b,!0),g[i].addEventListener("blur",b,!0);c(a(".main-navigation")),a(document).on("customize-preview-menu-refreshed",function(b,d){"primary"===d.wpNavMenuArgs.theme_location&&(c(d.newContainer),d.oldContainer.find(".nav-dropdown-toggle.toggle-on").each(function(){var b=a(this).parent().prop("id");a(d.newContainer).find("#"+b+" > .nav-dropdown-toggle").triggerHandler("click")}))});var k,l,m;a(window).scroll(function(){0==a(this).scrollTop()?a(".menu-toggle").removeClass("hovering"):(a(this).scrollTop()>=k?(l="down",l!==m&&(a(".menu-toggle").addClass("off-screen hovering"),m=l)):(l="up",l!==m&&(a(".menu-toggle").removeClass("off-screen"),m=l)),k=a(this).scrollTop())})}}(jQuery);